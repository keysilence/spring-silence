# jms-rabbitmq

# 概念
## Message
消息，由消息头和消息体组成。

1.消息头是不透明的，并由一系列的可选属性组成；
  
  - routing-key，路由键
  - priority，优先级
  - delivery-mode，是否持久化 1:否;2:是

2.消息体就是消息本身；

## Publisher
消息的生产者，也是一个向交换器发布消息的客户端应用程序。

## Consumer
消息的消费者，标识一个从消息队列中去的消息的客户端应用程序。

## Exchange
交换器，用来接收生产者发送的消息，并将这些消息路由给服务器中的队列。
三种常用的交换器类型：

  - direct，发布订阅
  - fanout，广播
  - topic，主题（规则匹配）

## Binding
绑定，用于消息队列和交换器之间的关联，一个绑定就是基于路由键将交换器和消息队列连接起来的路由规则。

## Queue
消息队列，用来保存消息指导发送给消费者，是消息的容器，一个消息可发送到一个或多个队列，消息一直在队列里面，等到消费者连接到这个队列并将其取走。

## Routing Key
RabbitMq决定消息该投递到哪个队列的规则，是将交换器绑定到队列的媒介。

## Connection
Rabbit服务器和服务建立的TCP连接。

## Channel
信道，TCP里面的虚拟连接，TCP一旦打开就会创建Channel。发布消息、接收消息和订阅队列都是通过Channel完成的。
使用Channel的原因
  - TCP的创建和销毁开销大（3次握手，四次挥手）
  - 操作系统每秒处理TCP连接数有限制
  - 信道的原理是一条线程一条信道，多条线程多条信道同用一条TCP连接，一条TCP连接可以容纳无限的信道

## Virtual Host
虚拟主机，标识一批交换器、消息队列和相关对象。虚拟主机是共享相vhost本支行同的身份和加密环境的独立服务器。每个vhost本质上就是一个mini版的RabbitMq服务器，拥有自己的队列、交换器、绑定和权限机制。vhost是AMQP概念的基础，必须在连接时指定，RabbitMq默认的vhost是/。

## Broker
标识消息队列服务器实体。

